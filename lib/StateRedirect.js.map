{"version":3,"sources":["../src/StateRedirect.js"],"names":[],"mappings":";;;;;;;;QAKgB,QAAQ,GAAR,QAAQ;;;;qBALJ,SAAS;;sBACR,UAAU;;AAE/B,IAAI,UAAU,GAAG,CAAC,CAAC;;AAEZ,SAAS,QAAQ,CAAC,SAAS,EAAE,WAAW,EAAE;AAChD,WAAU,EAAE,CAAC;;AAEb,KAAI,IAAI,YAAA,CAAC;AACT,KAAI,OAAO,SAAS,KAAK,UAAU,EAAE;AACpC,MAAI,GAAG,SAAS,CAAC;AACjB,WAAS,GAAG,IAAI,CAAC;AACjB,aAAW,GAAG,IAAI,CAAC;EACnB;;KAOK,UAAU;WAAV,UAAU;;;;wBAAV,UAAU;;gBAEd,YArBK,MAAM,EAqBJ,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,IAAI,CAAC;UACzC,gBAAC,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,EAAE;AACtC,QAAI,IAAI,EAAE;AACT,OAAE,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,CAC5C,IAAI,CAAC,UAAA,CAAC,EAAI;AACV,UAAI,CAAC,KAAK,KAAK,EAAE;AAChB,cAAO;OACP;UACI,IAAI,GAAY,CAAC,CAAjB,IAAI;UAAE,MAAM,GAAI,CAAC,CAAX,MAAM;;AACjB,YAAM,CAAC,EAAE,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;MACxB,CAAC,CAAC;KACJ,MAAM;AACN,WAAM,CAAC,EAAE,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;KAClC;IACD;;;oBAhBI,UAAU;AAAV,YAAU,GALf,WAfM,KAAK,EAeL;AACN,MAAG,EAAO,EAAE;AACZ,WAAQ,EAAE,EAAE;AACZ,OAAI,gBAAkB,UAAU,AAAE;GAClC,CAAC,CACI,UAAU,KAAV,UAAU;SAAV,UAAU;;;AAoBhB,QAAO,UAAU,CAAC;CAClB","file":"StateRedirect.js","sourcesContent":["import {State} from './State';\nimport {Inject} from './Inject';\n\nlet redirectId = 0;\n\nexport function Redirect(stateName, stateParams) {\n\tredirectId++;\n\n\tlet func;\n\tif (typeof stateName === 'function') {\n\t\tfunc = stateName;\n\t\tstateName = null;\n\t\tstateParams = null;\n\t}\n\n\t@State({\n\t\turl:      '',\n\t\ttemplate: '',\n\t\tname:     `redirect_${redirectId}`,\n\t})\n\tclass Redirector {\n\n\t\t@Inject('$state', '$injector', '$locals', '$q')\n\t\tattach($state, $injector, $locals, $q) {\n\t\t\tif (func) {\n\t\t\t\t$q.when($injector.invoke(func, this, $locals))\n\t\t\t\t\t.then(x => {\n\t\t\t\t\t\tif (x === false) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet {name, params} = x;\n\t\t\t\t\t\t$state.go(name, params);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t$state.go(stateName, stateParams);\n\t\t\t}\n\t\t}\n\n\t}\n\n\treturn Redirector;\n}\n"]}