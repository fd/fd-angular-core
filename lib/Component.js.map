{"version":3,"sources":["../src/Component.js"],"names":[],"mappings":";;;;;QAMgB,SAAS,GAAT,SAAS;;qBANQ,SAAS;;mBACxB,OAAO;;0BACA,cAAc;;AAEvC,IAAM,cAAc,GAAG,YAAY,CAAC;;AAE7B,SAAS,SAAS,CAAC,IAAI,EAAE;AAC9B,MAAI,OAAO,IAAI,KAAK,UAAU,EAAE;AAC9B,QAAI,YAAW,GAAG,IAAI,CAAC,AAAC,IAAI,GAAG,IAAI,CAAC;AACpC,WAAO,QAAQ,CAAC,YAAW,CAAC,CAAC;GAC9B;;AAED,MAAI,GAAI,IAAI,IAAI,EAAE,AAAC,CAAC;uBAMhB,IAAI,CAJN,QAAQ;MAAR,QAAQ,kCAAC,IAAI;oBAIX,IAAI,CAHN,KAAK;MAAL,KAAK,+BAAC,EAAE;MACR,QAAQ,GAEN,IAAI,CAFN,QAAQ;MACR,WAAW,GACT,IAAI,CADN,WAAW;;AAEb,SAAO,QAAQ,CAAC;;AAEhB,WAAS,QAAQ,CAAC,WAAW,EAAE;AAC7B,oBApBI,UAAU,EAoBH,WAAW,CAAC,CAAC;AACxB,QAAI,IAAI,GAAG,WAvBP,QAAQ,EAuBQ,WAAW,CAAC,CAAC;;AAEjC,QAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AACrB,QAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;;AAEvF,QAAI,CAAC,QAAQ,IAAI,CAAC,WAAW,IAAK,QAAQ,KAAK,KAAK,AAAC,EAAE;AACrD,UAAI,QAAQ,GAAG,WA7BH,QAAQ,EA6BI,IAAI,CAAC,CAAC;AAC9B,iBAAW,qBAAmB,QAAQ,SAAI,QAAQ,UAAO,CAAC;KAC3D;;AAED,QAAI,QAAQ,KAAK,KAAK,EAAE;AACtB,cAAQ,GAAG,SAAS,CAAC;AACrB,iBAAW,GAAG,SAAS,CAAC;KACzB;;AAED,SArCI,GAAG,CAqCH,SAAS,CAAC,IAAI,EAAE,YAAY;AAC9B,aAAO;AACL,gBAAQ,EAAU,QAAQ;AAC1B,aAAK,EAAa,KAAK;AACvB,wBAAgB,EAAE,IAAI;AACtB,kBAAU,EAAQ,IAAI,CAAC,UAAU,CAAC,IAAI;AACtC,oBAAY,EAAM,IAAI;AACtB,gBAAQ,EAAU,QAAQ;AAC1B,mBAAW,EAAO,WAAW;OAC9B,CAAC;KACH,CAAC,CAAC;GACJ;CACF","file":"Component.js","sourcesContent":["import {funcMeta, dashCase} from \"./utils\";\nimport {app} from \"./app\";\nimport {Controller} from \"./Controller\";\n\nconst DEFAULT_SUFFIX = \"Controller\";\n\nexport function Component(opts) {\n  if (typeof opts === \"function\") {\n    let constructor = opts; opts = null;\n    return register(constructor);\n  }\n\n  opts = (opts || {});\n  var {\n    restrict=\"EA\",\n    scope={},\n    template,\n    templateUrl,\n  } = opts;\n  return register;\n\n  function register(constructor) {\n    Controller(constructor);\n    let meta = funcMeta(constructor);\n\n    let name = meta.name;\n    name = name[0].toLowerCase() + name.substr(1, name.length - DEFAULT_SUFFIX.length - 1);\n\n    if (!template && !templateUrl && (template !== false)) {\n      var tmplName = dashCase(name);\n      templateUrl = `./components/${tmplName}/${tmplName}.html`;\n    }\n\n    if (template === false) {\n      template = undefined;\n      templateUrl = undefined;\n    }\n\n    app.directive(name, function () {\n      return {\n        restrict:         restrict,\n        scope:            scope,\n        bindToController: true,\n        controller:       meta.controller.name,\n        controllerAs:     name,\n        template:         template,\n        templateUrl:      templateUrl,\n      };\n    });\n  }\n}\n"]}