{"version":3,"sources":["../src/app.js"],"names":[],"mappings":";;;;;QAyBgB,aAAa,GAAb,aAAa;QAOb,UAAU,GAAV,UAAU;QAIV,SAAS,GAAT,SAAS;;;;sBApCX,QAAQ;;;;uBACF,SAAS;;;;wBACA,YAAY;;;;QAGlC,mBAAmB;;QACnB,+BAA+B;;qBAEL,SAAS;;AAE1C,IAAI,YAAY,GAAG,IAAI,CAAC;AACxB,IAAI,OAAO,GAAG,CAAC,WAAW,EAAE,uBAAuB,CAAC,CAAC;AAC9C,IAAI,GAAG,GAAG,qBAAQ,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;;QAArC,GAAG,GAAH,GAAG;AAEd,GAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,UAAS,SAAS,EAAE;AACzC,eAbO,cAAc,EAaN,SAAS,CAAC,CAAC;CAC1B,CAAC,CAAC,CAAC;;AAEJ,GAAG,CAAC,MAAM,CAAC,CAAC,qBAAqB,EAAE,UAAS,mBAAmB,EAAE;AAChE,KAAI,YAAY,EAAE;AACjB,MAAI,KAAK,GAAG,WAZN,kBAAkB,EAYO,YAAY,CAAC,CAAC;AAC7C,qBAAmB,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;EAC1C;CACD,CAAC,CAAC,CAAC;;AAEG,SAAS,aAAa,CAAC,IAAI,EAAE;AACnC,QAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;CACnB;;AAEM,IAAI,EAAE,uBAAU,CAAC;QAAb,EAAE,GAAF,EAAE;AACb,IAAI,iBAAiB,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;AAEvC,SAAS,UAAU,CAAC,CAAC,EAAE;AAC7B,kBAAiB,GAAG,iBAAiB,CAAC,IAAI,CAAC;SAAM,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;EAAA,CAAC,CAAC;CACrE;;AAEM,SAAS,SAAS,CAAC,SAAS,EAAW;AAC7C,aAAY,GAAG,SAAS,CAAC;;mCADc,IAAI;AAAJ,MAAI;;;;;;;;AAE3C,uBAAgB,IAAI,8HAAE;OAAb,GAAG;;AACX,gBAAa,CAAC,GAAG,CAAC,CAAC;GACnB;;;;;;;;;;;;;;;;AAED,QAAO,iBAAiB,CAAC,IAAI,CAAC,YAAW;AACxC,SAAO,IAAI,OAAO,CAAC,UAAS,OAAO,EAAE,MAAM,EAAC;AAC3C,4BAAE,YAAM;AACP,QAAI;AACH,SAAI,QAAQ,GAAG,qBAAQ,SAAS,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AACpD,mBA7CG,cAAc,EA6CF,QAAQ,CAAC,CAAC;AACzB,YAAO,EAAE,CAAC;KACV,CAAC,OAAM,CAAC,EAAE;AACV,WAAM,CAAC,CAAC,CAAC,CAAC;KACV;IACD,CAAC,CAAC;GACH,CAAC,CAAC;EACH,CAAC,CAAC;CACH","file":"app.js","sourcesContent":["import $ from \"jquery\";\nimport angular from \"angular\";\nimport {extendInjector} from './injector';\n\n// Base modules\nimport \"angular-ui-router\";\nimport \"angular-ui-router.statehelper\";\n\nimport {buildUiRouterState} from './State';\n\nlet appRootState = null;\nlet appDeps = [\"ui.router\", \"ui.router.stateHelper\"];\nexport var app = angular.module(\"app\", appDeps);\n\napp.run(['$injector', function($injector) {\n\textendInjector($injector);\n}]);\n\napp.config([\"stateHelperProvider\", function(stateHelperProvider) {\n\tif (appRootState) {\n\t\tlet state = buildUiRouterState(appRootState);\n\t\tstateHelperProvider.setNestedState(state);\n\t}\n}]);\n\nexport function includeModule(name) {\n\tappDeps.push(name);\n}\n\nexport var ng = angular;\nvar beforeBootPromise = Promise.resolve(true);\n\nexport function beforeBoot(p) {\n\tbeforeBootPromise = beforeBootPromise.then(() => Promise.resolve(p));\n}\n\nexport function bootstrap(mainState, ...deps) {\n\tappRootState = mainState;\n\tfor (let dep of deps) {\n\t\tincludeModule(dep);\n\t}\n\n\treturn beforeBootPromise.then(function() {\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t$(() => {\n\t\t\t\ttry {\n\t\t\t\t\tlet injector = angular.bootstrap(document, [\"app\"]);\n\t\t\t\t\textendInjector(injector);\n\t\t\t\t\tresolve();\n\t\t\t\t} catch(e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n}\n"]}